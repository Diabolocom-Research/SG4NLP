# SG4NLP
Synthetic data generation for NLP


### Abstract
Large language models (LLMs) have enabled a range of applications in zero-shot and few-shot learning settings, including the generation of synthetic datasets for training and testing. However, to reliably use these synthetic datasets, it is essential to understand how representative they are of real-world data. We investigate this by assessing the effectiveness of generating synthetic data through LLM and using it as a benchmark for various NLP tasks. Our experiments across six datasets, and three different tasks, show that while synthetic data can effectively capture performance of various methods for simpler tasks, such as intent classification, it falls short for more complex tasks like named entity recognition. Additionally, we propose a new metric called the bias factor, which evaluates the biases introduced when the same LLM is used to both generate benchmarking data and to perform the tasks. We find that smaller LLMs exhibit biases towards their own generated data, whereas larger models do not. Overall, our findings suggest that the effectiveness of synthetic data as a benchmark varies depending on the task, and that practitioners should rely on data generated from multiple larger models whenever possible.

### Repository structure
- ```data``` folder consists of:
	- ```generated``` which consist of all generated dataset
	- ```intent_dataset``` consisting of all datasets related to intent recognition
	- ```ner_dataset``` consisting of all datasets related to name entity recognition
	- ```sts_dataset``` consisting of all text similarity dataset
- ```src``` folder consists of all the codes
  - ```generate_dataset``` module consists of all files related to dataset generation
  - ```method``` module consists of all files related to prediction
  - ```parse_dataset``` module consists of all files related to parsing different datasets
- ```mlflow.zip``` unzip it at the same place. Contains all the predictions of different methods and all tasks.


### Running
- To run one specific configuration change the configuration in ```config.py``` file and then use the ```runner.py``` file to call the pipeline.
- To run multiple configuration and the whole pipeline including generation, testing, and over the orginal dataset
  - ```ner_runner.py``` for Name Entity Recognition
  - ```intent_detection_runner.py``` for Intent Detection
  - ```text_similarity_runner.py``` for Text Similarity

### Benchmarking
- All predictions are stored in mlflow folder. It is a zip file and needs to be unzipped.
- Results and analysis can be accessed by ```mlflow_results_analysis.ipynb``` file.

### Generated Dataset
- All generated datasets are available as pickle file in ```data/generated``` folder.
- The name of the file specifies the exact configuration used to create the file
  - ```atis_gpt-4o-mini_1_200.pkl```: atis dataset, generated by gpt-40-mini, seeing 1 example for each score, and 200 examples were generated
  - In other words```DatasetName_LLM_ExamplesShownPerClass_TotalNumberOfExampleGenerated.pkl```
  - ```generated_dataset_access.py``` in ```src``` directory can unload pickle and read the file.